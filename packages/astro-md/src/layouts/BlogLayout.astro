---
import { Picture } from '@astrojs/image/components'
import { findImage } from '~/utils/images'
import Layout from '~/layouts/PageLayout.astro'

export interface Props {
  content: {
    title: string
    description: string
    pubDate?: string
    updatedDate?: string
    heroImage?: string
  }
}

const {
  content: { title, description, pubDate, updatedDate, heroImage },
} = Astro.props

const image = await findImage(heroImage)

const meta = {
  title,
  description,
}
---

<Layout {meta}>
  <section class="px-6 sm:px-6 py-8 sm:py-12 lg:py-16 mx-auto max-w-3xl">
    <header>
      <h1 class="text-center text-4xl md:text-5xl font-bold leading-tighter tracking-tighter mb-4 font-heading">
        {title}
      </h1>
      {
        pubDate && (
          <div class="text-center px-4  mb-4">
            发表日期： <time>{pubDate}</time>
          </div>
        )
      }
    </header>
    <article
      class="container mx-auto px-6 sm:px-6 max-w-3xl prose dark:prose-invert dark:prose-headings:text-slate-300 prose-md prose-headings:font-heading prose-headings:leading-tighter prose-headings:tracking-tighter prose-headings:font-bold prose-a:text-primary-600 dark:prose-a:text-primary-400 prose-img:rounded-md prose-img:shadow-lg mt-8"
    >
      {image && <Picture src={image} alt="descriptive text" widths={[400, 900]} aspectRatio="16:9" />}
      <hr />
      <div class="container mx-auto px-6 sm:px-6 max-w-3xl mt-8">
        <slot />
      </div>
    </article>
  </section>
</Layout>
