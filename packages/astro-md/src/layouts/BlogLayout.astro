---
import { Picture } from '@astrojs/image/components'
import { findImage } from '~/utils/images'
import Layout from '~/layouts/PageLayout.astro'

export interface Props {
  content: {
    title: string
    description: string
    pubDate?: string
    updatedDate?: string
    heroImage?: string
  }
}

const {
  content: { title, description, pubDate, updatedDate, heroImage },
} = Astro.props

const image = await findImage(heroImage)

const meta = {
  title,
  description,
}
---

<Layout {meta}>
  <section class="px-6 sm:px-6 py-8 sm:py-12 lg:py-16 mx-auto max-w-3xl">
    <header>
      <h1 class="text-center text-4xl md:text-5xl font-bold leading-tighter tracking-tighter mb-4 font-heading">
        {title}
      </h1>
      {
        pubDate && (
          <div class="text-center px-4  mb-4">
            发表日期： <time>{pubDate}</time>
          </div>
        )
      }
    </header>
    <article class="prose prose-stone">
      {image && <Picture src={image} alt="descriptive text" widths={[400, 900]} aspectRatio="16:9" />}
      <hr />
      <div class="container mx-auto px-6 sm:px-6 max-w-3xl mt-8">
        <slot />
      </div>
    </article>
  </section>
</Layout>
