<!DOCTYPE html>
<html lang="en" class="motion-safe:scroll-smooth text-base">
  <head>
    <!-- Global Metadata --><meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Astro v1.6.10">

<!-- Primary Meta Tags -->
<title>使用 Ghost 从零搭建博客系统</title>
<meta name="title" content="使用 Ghost 从零搭建博客系统">
<meta name="description" content="Ghost 是一个开源的 CMS 博客系统，使用 Node.js 技术栈，让有需求的个人或团队能够快速的搭建想要的博客站点">
<link rel="shortcut icon" href="https://images.sayhub.me/logo.png">



    <head>
          <link rel="stylesheet" href="https://images.sayhub.me/static/styles/gfm.css">
        <link rel="stylesheet" href="/sayhub/assets/404.bb96d8e2.css" />
<link rel="stylesheet" href="/sayhub/assets/about.6d56a54d.css" /><script type="module">(function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?25fe062a2732666635d67e6585c7ea35";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})();
</script></head>
  <link rel="stylesheet" href="/sayhub/assets/404.bb96d8e2.css" />
<link rel="stylesheet" href="/sayhub/assets/about.6d56a54d.css" /><script type="module">(function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?25fe062a2732666635d67e6585c7ea35";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})();
</script></head>
  
    <header class="sticky top-0 z-40 mx-auto w-full bg-white" id="header">
  <div class="py-3 px-3 mx-auto w-full md:flex md:justify-between max-w-7xl">
    <div class="flex justify-between">
      <a class="flex items-center flex-shrink-0" href="/sayhub/">
        <img class="w-10 h-10 rounded-3xl" src="https://images.sayhub.me/logo.png" alt="logo">
        <span class="ml-4 text-2xl text-gray-900 font-bold">SayHub</span>
      </a>
      <div class="flex items-center md:hidden">
        <button type="button" class="ml-1.5 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center transition" aria-label="Toggle Menu" id="toggle-menu">
  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" class="w-6 h-6" astro-icon="tabler:menu"><g class="icon-tabler" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 8h16"/><path d="M4 16h16"/></g></svg>
</button>
      </div>
    </div>
    <nav class="items-center w-full md:w-auto hidden md:flex text-gray-600 h-screen md:h-auto" aria-label="Main navigation">
      <ul class="flex flex-col pt-8 md:pt-0 md:flex-row md:self-center w-full md:w-auto text-2xl md:text-base">
        <li>
          <a href="/sayhub/" class="font-medium hover:text-gray-900 px-4 py-3 flex items-center transition duration-150 ease-in-out astro-4VKOHXD7">
  首页
</a>

        </li>
        <li>
          <a href="/sayhub/blog" class="font-medium hover:text-gray-900 px-4 py-3 flex items-center transition duration-150 ease-in-out astro-4VKOHXD7">
  文章
</a>

        </li>
        <li>
          <a href="/sayhub/tag/读后感" class="font-medium hover:text-gray-900 px-4 py-3 flex items-center transition duration-150 ease-in-out astro-4VKOHXD7">
  读后感
</a>

        </li>
        <li>
          <a href="/sayhub/about" class="font-medium hover:text-gray-900 px-4 py-3 flex items-center transition duration-150 ease-in-out astro-4VKOHXD7">
  关于
</a>

        </li>
        <li>
          <a href="https://sayhub.me/rss.xml" class="font-medium hover:text-gray-900 px-4 py-3 flex items-center transition duration-150 ease-in-out astro-4VKOHXD7" target="_blank">
  RSS 订阅
</a>

        </li>
        <li class="md:hidden">
          <a class="font-medium hover:text-gray-900 px-4 py-3 flex items-center transition duration-150 ease-in-out" href="https://github.com/liruifengv" aria-label="liruifengv Github" target="_blank">Github
          </a>
        </li>
      </ul>
      <div class="md:self-center flex items-center mb-4 md:mb-0 ml-2">
        <div class="hidden items-center md:flex">
          <a href="https://github.com/liruifengv" class="inline-block text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-4 focus:ring-gray-200 rounded-lg text-sm p-2.5" aria-label="liruifengv Github" target="_blank">
            <svg viewBox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:brand-github"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6 0 0 0-1.3-3.2 4.2 4.2 0 0 0-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3 0 0 0-6.2 0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2 0 0 0-.1 3.2A4.6 4.6 0 0 0 4 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg>
          </a>
        </div>
      </div>
    </nav>
  </div>
</header><main>
    <div class="max-w-6xl flex mx-auto flex-col md:flex-row">
    <section class="px-6 sm:px-6 py-8 sm:py-12 lg:py-16">
      <header>
        <h1 class="text-center text-4xl md:text-5xl font-bold leading-tighter tracking-tighter mb-4 font-heading">
          使用 Ghost 从零搭建博客系统
        </h1>
        <div class="text-center px-4 mb-4">
              发表日期： <time>2021-11-19</time>
            </div>
      </header>
      <article class="container mx-auto max-w-3xl markdown-body">
        <picture>
	<source type="image/avif" srcset="/sayhub/assets/img3_Z1QdCgM.avif 400w,/sayhub/assets/img3_1N7djg.avif 900w"><source type="image/webp" srcset="/sayhub/assets/img3_Z2h2pLl.webp 400w,/sayhub/assets/img3_1nipNH.webp 900w">
	<img src="/sayhub/assets/img3_1nipNH.webp" loading="lazy" decoding="async" alt="descriptive text">
</picture>
        <div class="mt-6">
          <h3 id="ghost-介绍">Ghost 介绍</h3>
<p><a href="https://github.com/tryghost/ghost/">GitHub</a></p>
<p><a href="https://ghost.org/">官网</a></p>
<p>这是官方介绍：</p>
<blockquote>
<p>Ghost is an open source, professional publishing platform built on a modern Node.js technology stack — designed for teams who need power, flexibility and performance.</p>
</blockquote>
<p>简单来说，Ghost 是一个开源的 CMS 博客系统，使用 Node.js 技术栈，让有需求的个人或团队能够快速的搭建想要的博客站点。</p>
<p>话不多说，开始干吧~</p>
<h3 id="本地安装">本地安装</h3>
<p>我们先在自己的电脑本地跑起来，看看是什么样子。</p>
<p>这里是<a href="https://ghost.org/docs/install/local/">官网教程</a></p>
<p>因为 Ghost 是 Node.js 开发的，它提供了一个脚手架 Ghost-CLI，对于有前端或者 Node.js 知识的同学应该很熟悉。</p>
<p>这里先全局安装</p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">npm install ghost-cli@latest -g</span></span></code></pre>
<p>输入 <code>ghost -v</code>，能正确输出版本号说明安装成功了。</p>
<p>创建个新目录</p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">mkdir test-ghost</span></span>
<span class="line"><span style="color: #79C0FF">cd</span><span style="color: #C9D1D9"> test-ghost</span></span></code></pre>
<p>使用脚手架安装</p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">ghost install </span><span style="color: #FF7B72">local</span></span></code></pre>
<p>出现了个报错，安装失败</p>
<p><img src="https://images.sayhub.me/blog/ghost/img1.webp" alt="插图"></p>
<p>看下报错信息说我的 Node.js 版本不支持。</p>
<p>查看<a href="https://ghost.org/docs/faq/node-versions/">文档</a>，找到支持的版本，使用 nvm 或者 n 来切换 node 版本，这里我使用了 14.18。</p>
<p>重新执行</p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">ghost install </span><span style="color: #FF7B72">local</span></span></code></pre>
<p><img src="https://images.sayhub.me/blog/ghost/img2.webp" alt="插图"></p>
<p>运行成功！</p>
<p>浏览器打开 <a href="http://localhost:2368/ghost/">http://localhost:2368/ghost/</a></p>
<p><img src="https://images.sayhub.me/blog/ghost/img3.webp" alt="插图"></p>
<p>第一步让创建一个管理员账号，我们输入相关信息，</p>
<p>第二步让邀请团队成员，可以先跳过，后面再邀请，这里直接进入。</p>
<p>进入后看到的是一个管理员的后台界面。我们可以看到左上角我们设置的网站名称</p>
<p><img src="https://images.sayhub.me/blog/ghost/img4.webp" alt="插图"></p>
<p>点击 View stie，能看到普通用户的前端页面</p>
<p><img src="https://images.sayhub.me/blog/ghost/img5.webp" alt="插图"></p>
<p>同时我们可以看到侧边栏，有文章，草稿，页面等管理项。</p>
<p>我们先点击左下角的设置。</p>
<p><img src="https://images.sayhub.me/blog/ghost/img6.webp" alt="插图"></p>
<p>有一些设置选项，通用、设计、导航等。点击通用</p>
<p><img src="https://images.sayhub.me/blog/ghost/img7.webp" alt="插图"></p>
<p>可以设置网站名称和描述</p>
<p>时区默认 UTC，我们改成北京时间。</p>
<p>设置语言。查看官方的多语言设置文档。</p>
<p><a href="https://ghost.org/docs/themes/helpers/translate/">https://ghost.org/docs/themes/helpers/translate/</a></p>
<p>到这一步需要了解一下项目的目录结构了。打开一开始创建的目录，会发现 ghost 在该目录下生成了一个项目</p>
<p><img src="https://images.sayhub.me/blog/ghost/img8.jpeg" alt="插图"></p>
<p>那么如何设置语言呢，在 content/themes 下，是 Ghost 的主题，默认主题是 casper。我们可以在官网找到很多主题，有收费的有免费的。</p>
<p>想要设置语言，在主题下面，新建 locales 文件夹，然后新建 en.json 和 zh.json 文件。使用 i18n 进行国际化的同学应该很熟悉这是干什么的了。编辑你想要的翻译文件。然后根据文档，需要补全两个模板文件：pagination.hbs 和 navigation.hbs。然后在主题下的所有模板文件下查找要翻译的文字，使用<code>{{t key}}</code> 语法来进行翻译。</p>
<p>一切都搞定之后，使用 <code>ghost restart</code> 命令重启，使得新增文件生效。</p>
<p><img src="https://images.sayhub.me/blog/ghost/img9.webp" alt="插图"></p>
<p>ok，我们改的一些文字生效了。</p>
<h3 id="在服务器安装">在服务器安装</h3>
<p>在本地安装之后，发现很轻松的就跑起来了，那么去服务器试试吧。</p>
<p><a href="https://ghost.org/docs/install/">文档</a>中有几种安装方式，我们这里直接使用 docker 安装。docker 的使用暂且不过多赘述。</p>
<p>这是 Ghost 的 docker <a href="https://hub.docker.com/_/ghost/">镜像</a>。</p>
<p>首先拉取镜像:</p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">docker pull ghost</span></span></code></pre>
<p>镜像拉取成功，我们直接运行</p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #c9d1d9">docker run -d --name my-ghost -e url=http://域名 -p 3001:2368 ghost</span></span></code></pre>
<p>请注意替换自己的域名和容器名称。以上命令同时把 3001 端口映射到了容器的 2368 端口。然后我们在 nginx 配置，指向 3001。这时候直接访问我们的域名，就可以查看 ghost 站点了。</p>
<p>执行一下命令可以进入容器内</p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #c9d1d9">docker exec -it my-ghost /bin/bash</span></span></code></pre>
<p>这时候我想在容器里面执行一下 ghost 命令。</p>
<p><img src="https://images.sayhub.me/blog/ghost/img10.png" alt="插图"></p>
<p>突然报错说不能使用 root 用户来运行命令。查看对应文档。不得不说 ghost 的报错信息提示还是很不错的，每个报错都对应了文档链接。这里说让创建个普通用户来执行 ghost 命令。</p>
<p>然后我创建了普通用户，结果普通用户不能进入 docker 容器。于是我又给了这个用户 root 权限。进入容器后执行命令，又报错不能使用 root 用户。我百思不得其解。</p>
<p>后来在 <a href="https://github.com/TryGhost/Ghost-CLI/issues/981">GitHub Issue</a> 中找到，要在命令后面加<code>--allow-root</code>。这下可以愉快的执行 ghost 命令了。</p>
<h3 id="总结">总结</h3>
<p>到此基本安装完成了。无论是本地安装还是服务器安装，都挺简单的。但是跑起来的还是个比较简单的博客站点，还要做的工作还有很多，比如主题的选择或定制、汉化翻译、文章目录归档等。由于 Ghost 是完全开源并且可以定制的，很多想要的功能，都可以想办法实现。</p>
<p>Ghost 系列文章还会再更新，包括没讲到的团队版如何使用，如何协作。</p>
        </div>
      </article>
      <ul class="text-base">
      <li class="text-primary-600 hover:underline bg-gray-100 dark:bg-slate-700 inline-block mr-4 mb-4 py-0.5 px-2">
          <a href="/sayhub/tag/ghost">ghost</a>
        </li><li class="text-primary-600 hover:underline bg-gray-100 dark:bg-slate-700 inline-block mr-4 mb-4 py-0.5 px-2">
          <a href="/sayhub/tag/建站">建站</a>
        </li><li class="text-primary-600 hover:underline bg-gray-100 dark:bg-slate-700 inline-block mr-4 mb-4 py-0.5 px-2">
          <a href="/sayhub/tag/blog">blog</a>
        </li>
    </ul>
    </section>
    <div class="md:mt-10 md:ml-6 h-full min-w-min md:w-1/3 p-4 sticky top-20">
          <div class="text-gray-900 text-xl">最近文章</div>
          <ul class="mt-4">
            <li class="mt-8 flex items-center" title="写一个命令行CLI，一键生成各种烦人的lint配置">
                <a href="/sayhub/blog/create-lint-config">
                  <picture>
	<source type="image/avif" srcset="/sayhub/assets/screenshot_Z19bab7.avif 400w,/sayhub/assets/screenshot_2v9FoV.avif 900w"><source type="image/webp" srcset="/sayhub/assets/screenshot_Z1yYWFF.webp 400w,/sayhub/assets/screenshot_25kRTn.webp 900w"><source type="image/png" srcset="/sayhub/assets/screenshot_2vNzur.png 400w,/sayhub/assets/screenshot_15Whgy.png 900w">
	<img src="/sayhub/assets/screenshot_15Whgy.png" loading="lazy" decoding="async" alt="descriptive text" class="w-20">
</picture>
                </a>
                <div class="ml-2 flex-1">
                  <a class="text-gray-900 block hover:underline overflow-hidden overflow-ellipsis h-6 md:h-5 hover:text-primary-600 " href="/sayhub/blog/create-lint-config">
                    写一个命令行CLI，一键生成各种烦人的lint配置
                  </a>
                  <div class="text-sm md:mt-2 font-light">发表日期：2023-02-21</div>
                </div>
              </li><li class="mt-8 flex items-center" title="使用 GitHub Action 自动化发布 npm 版本">
                <a href="/sayhub/blog/github-action-release">
                  <picture>
	<source type="image/avif" srcset="/sayhub/assets/github_ZAGe1o.avif 400w,/sayhub/assets/github_Z21xwfh.avif 900w"><source type="image/webp" srcset="/sayhub/assets/github_Z11v1vW.webp 400w,/sayhub/assets/github_Z2rmjJP.webp 900w"><source type="image/jpeg" srcset="/sayhub/assets/github_8LQa4.jpeg 400w,/sayhub/assets/github_Z1h4r3O.jpeg 900w">
	<img src="/sayhub/assets/github_Z1h4r3O.jpeg" loading="lazy" decoding="async" alt="descriptive text" class="w-20">
</picture>
                </a>
                <div class="ml-2 flex-1">
                  <a class="text-gray-900 block hover:underline overflow-hidden overflow-ellipsis h-6 md:h-5 hover:text-primary-600 " href="/sayhub/blog/github-action-release">
                    使用 GitHub Action 自动化发布 npm 版本
                  </a>
                  <div class="text-sm md:mt-2 font-light">发表日期：2023-02-18</div>
                </div>
              </li><li class="mt-8 flex items-center" title="我的开源之旅&#38;新手如何参与开源社区">
                <a href="/sayhub/blog/opensource">
                  <picture>
	<source type="image/avif" srcset="/sayhub/assets/github_ZAGe1o.avif 400w,/sayhub/assets/github_Z21xwfh.avif 900w"><source type="image/webp" srcset="/sayhub/assets/github_Z11v1vW.webp 400w,/sayhub/assets/github_Z2rmjJP.webp 900w"><source type="image/jpeg" srcset="/sayhub/assets/github_8LQa4.jpeg 400w,/sayhub/assets/github_Z1h4r3O.jpeg 900w">
	<img src="/sayhub/assets/github_Z1h4r3O.jpeg" loading="lazy" decoding="async" alt="descriptive text" class="w-20">
</picture>
                </a>
                <div class="ml-2 flex-1">
                  <a class="text-gray-900 block hover:underline overflow-hidden overflow-ellipsis h-6 md:h-5 hover:text-primary-600 " href="/sayhub/blog/opensource">
                    我的开源之旅&amp;新手如何参与开源社区
                  </a>
                  <div class="text-sm md:mt-2 font-light">发表日期：2023-1-31</div>
                </div>
              </li><li class="mt-8 flex items-center" title="JS复制文字到剪贴板的坑及完整方案。">
                <a href="/sayhub/blog/copy-text">
                  <picture>
	<source type="image/avif" srcset="/sayhub/assets/cover_2hGORt.avif 400w,/sayhub/assets/cover_QPwDA.avif 900w"><source type="image/webp" srcset="/sayhub/assets/cover_1QS2mU.webp 400w,/sayhub/assets/cover_r1J92.webp 900w"><source type="image/jpeg" srcset="/sayhub/assets/cover_Z231dK0.jpeg 400w,/sayhub/assets/cover_1BjBP3.jpeg 900w">
	<img src="/sayhub/assets/cover_1BjBP3.jpeg" loading="lazy" decoding="async" alt="descriptive text" class="w-20">
</picture>
                </a>
                <div class="ml-2 flex-1">
                  <a class="text-gray-900 block hover:underline overflow-hidden overflow-ellipsis h-6 md:h-5 hover:text-primary-600 " href="/sayhub/blog/copy-text">
                    JS复制文字到剪贴板的坑及完整方案。
                  </a>
                  <div class="text-sm md:mt-2 font-light">发表日期：2023-01-10</div>
                </div>
              </li><li class="mt-8 flex items-center" title="开发弹窗，你使用状态驱动还是命令式？">
                <a href="/sayhub/blog/promise-modal">
                  <picture>
	<source type="image/avif" srcset="/sayhub/assets/Modal_1WW746.avif 400w,/sayhub/assets/Modal_x5NPd.avif 900w"><source type="image/webp" srcset="/sayhub/assets/Modal_1x8jyx.webp 400w,/sayhub/assets/Modal_7h1kE.webp 900w"><source type="image/png" srcset="/sayhub/assets/Modal_Z1DdsoI.png 400w,/sayhub/assets/Modal_217nbk.png 900w">
	<img src="/sayhub/assets/Modal_217nbk.png" loading="lazy" decoding="async" alt="descriptive text" class="w-20">
</picture>
                </a>
                <div class="ml-2 flex-1">
                  <a class="text-gray-900 block hover:underline overflow-hidden overflow-ellipsis h-6 md:h-5 hover:text-primary-600 " href="/sayhub/blog/promise-modal">
                    开发弹窗，你使用状态驱动还是命令式？
                  </a>
                  <div class="text-sm md:mt-2 font-light">发表日期：2022-12-29</div>
                </div>
              </li>
          </ul>
        </div>
  </div>
  </main><footer class="astro-RBJBZKO7">
  <a class="hover:text-primary-600 hover:underline astro-RBJBZKO7" target="_blank" href="https://beian.miit.gov.cn/#/Integrated/index" rel="noreferrer">
    冀ICP备17036505号-1
  </a>
  <div class="astro-RBJBZKO7">
    &copy; 2023 SayHub. All rights reserved.
  </div>
</footer>

    
    <script>
      window.onload = function () {
        const menuIcon = document.querySelector('#toggle-menu')
        menuIcon.addEventListener('click', () => {
          menuIcon.classList.toggle('expanded')
          document.body.classList.toggle('overflow-hidden')
          document.getElementById('header')?.classList.toggle('h-screen')
          document.querySelector('#header nav')?.classList.toggle('hidden')
        })
      }
    </script>
  </html>